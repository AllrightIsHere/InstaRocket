{"ast":null,"code":"'use strict';\n\nconst color = require('color');\n\nconst is = require('./is');\n/**\n * Colourspaces.\n * @private\n */\n\n\nconst colourspace = {\n  multiband: 'multiband',\n  'b-w': 'b-w',\n  bw: 'b-w',\n  cmyk: 'cmyk',\n  srgb: 'srgb'\n};\n/**\n * Tint the image using the provided chroma while preserving the image luminance.\n * An alpha channel may be present and will be unchanged by the operation.\n *\n * @param {String|Object} rgb - parsed by the [color](https://www.npmjs.org/package/color) module to extract chroma values.\n * @returns {Sharp}\n * @throws {Error} Invalid parameter\n */\n\nfunction tint(rgb) {\n  const colour = color(rgb);\n  this.options.tintA = colour.a();\n  this.options.tintB = colour.b();\n  return this;\n}\n/**\n * Convert to 8-bit greyscale; 256 shades of grey.\n * This is a linear operation. If the input image is in a non-linear colour space such as sRGB, use `gamma()` with `greyscale()` for the best results.\n * By default the output image will be web-friendly sRGB and contain three (identical) color channels.\n * This may be overridden by other sharp operations such as `toColourspace('b-w')`,\n * which will produce an output image containing one color channel.\n * An alpha channel may be present, and will be unchanged by the operation.\n * @param {Boolean} [greyscale=true]\n * @returns {Sharp}\n */\n\n\nfunction greyscale(greyscale) {\n  this.options.greyscale = is.bool(greyscale) ? greyscale : true;\n  return this;\n}\n/**\n * Alternative spelling of `greyscale`.\n * @param {Boolean} [grayscale=true]\n * @returns {Sharp}\n */\n\n\nfunction grayscale(grayscale) {\n  return this.greyscale(grayscale);\n}\n/**\n * Set the output colourspace.\n * By default output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n * @param {String} [colourspace] - output colourspace e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://github.com/libvips/libvips/blob/master/libvips/iofuncs/enumtypes.c#L568)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\n\n\nfunction toColourspace(colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n\n  this.options.colourspace = colourspace;\n  return this;\n}\n/**\n * Alternative spelling of `toColourspace`.\n * @param {String} [colorspace] - output colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\n\n\nfunction toColorspace(colorspace) {\n  return this.toColourspace(colorspace);\n}\n/**\n * Update a colour attribute of the this.options Object.\n * @private\n * @param {String} key\n * @param {String|Object} value\n * @throws {Error} Invalid value\n */\n\n\nfunction _setBackgroundColourOption(key, value) {\n  if (is.defined(value)) {\n    if (is.object(value) || is.string(value)) {\n      const colour = color(value);\n      this.options[key] = [colour.red(), colour.green(), colour.blue(), Math.round(colour.alpha() * 255)];\n    } else {\n      throw is.invalidParameterError('background', 'object or string', value);\n    }\n  }\n}\n/**\n * Decorate the Sharp prototype with colour-related functions.\n * @private\n */\n\n\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    tint,\n    greyscale,\n    grayscale,\n    toColourspace,\n    toColorspace,\n    // Private\n    _setBackgroundColourOption\n  }); // Class attributes\n\n  Sharp.colourspace = colourspace;\n  Sharp.colorspace = colourspace;\n};","map":{"version":3,"sources":["/media/gabriel/HD/Cursos/OmniStack 7.0/aulas/node_modules/sharp/lib/colour.js"],"names":["color","require","is","colourspace","multiband","bw","cmyk","srgb","tint","rgb","colour","options","tintA","a","tintB","b","greyscale","bool","grayscale","toColourspace","string","invalidParameterError","toColorspace","colorspace","_setBackgroundColourOption","key","value","defined","object","red","green","blue","Math","round","alpha","module","exports","Sharp","Object","assign","prototype"],"mappings":"AAAA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,MAAD,CAAlB;AAEA;;;;;;AAIA,MAAME,WAAW,GAAG;AAClBC,EAAAA,SAAS,EAAE,WADO;AAElB,SAAO,KAFW;AAGlBC,EAAAA,EAAE,EAAE,KAHc;AAIlBC,EAAAA,IAAI,EAAE,MAJY;AAKlBC,EAAAA,IAAI,EAAE;AALY,CAApB;AAQA;;;;;;;;;AAQA,SAASC,IAAT,CAAeC,GAAf,EAAoB;AAClB,QAAMC,MAAM,GAAGV,KAAK,CAACS,GAAD,CAApB;AACA,OAAKE,OAAL,CAAaC,KAAb,GAAqBF,MAAM,CAACG,CAAP,EAArB;AACA,OAAKF,OAAL,CAAaG,KAAb,GAAqBJ,MAAM,CAACK,CAAP,EAArB;AACA,SAAO,IAAP;AACD;AAED;;;;;;;;;;;;AAUA,SAASC,SAAT,CAAoBA,SAApB,EAA+B;AAC7B,OAAKL,OAAL,CAAaK,SAAb,GAAyBd,EAAE,CAACe,IAAH,CAAQD,SAAR,IAAqBA,SAArB,GAAiC,IAA1D;AACA,SAAO,IAAP;AACD;AAED;;;;;;;AAKA,SAASE,SAAT,CAAoBA,SAApB,EAA+B;AAC7B,SAAO,KAAKF,SAAL,CAAeE,SAAf,CAAP;AACD;AAED;;;;;;;;;AAOA,SAASC,aAAT,CAAwBhB,WAAxB,EAAqC;AACnC,MAAI,CAACD,EAAE,CAACkB,MAAH,CAAUjB,WAAV,CAAL,EAA6B;AAC3B,UAAMD,EAAE,CAACmB,qBAAH,CAAyB,aAAzB,EAAwC,QAAxC,EAAkDlB,WAAlD,CAAN;AACD;;AACD,OAAKQ,OAAL,CAAaR,WAAb,GAA2BA,WAA3B;AACA,SAAO,IAAP;AACD;AAED;;;;;;;;AAMA,SAASmB,YAAT,CAAuBC,UAAvB,EAAmC;AACjC,SAAO,KAAKJ,aAAL,CAAmBI,UAAnB,CAAP;AACD;AAED;;;;;;;;;AAOA,SAASC,0BAAT,CAAqCC,GAArC,EAA0CC,KAA1C,EAAiD;AAC/C,MAAIxB,EAAE,CAACyB,OAAH,CAAWD,KAAX,CAAJ,EAAuB;AACrB,QAAIxB,EAAE,CAAC0B,MAAH,CAAUF,KAAV,KAAoBxB,EAAE,CAACkB,MAAH,CAAUM,KAAV,CAAxB,EAA0C;AACxC,YAAMhB,MAAM,GAAGV,KAAK,CAAC0B,KAAD,CAApB;AACA,WAAKf,OAAL,CAAac,GAAb,IAAoB,CAClBf,MAAM,CAACmB,GAAP,EADkB,EAElBnB,MAAM,CAACoB,KAAP,EAFkB,EAGlBpB,MAAM,CAACqB,IAAP,EAHkB,EAIlBC,IAAI,CAACC,KAAL,CAAWvB,MAAM,CAACwB,KAAP,KAAiB,GAA5B,CAJkB,CAApB;AAMD,KARD,MAQO;AACL,YAAMhC,EAAE,CAACmB,qBAAH,CAAyB,YAAzB,EAAuC,kBAAvC,EAA2DK,KAA3D,CAAN;AACD;AACF;AACF;AAED;;;;;;AAIAS,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAChCC,EAAAA,MAAM,CAACC,MAAP,CAAcF,KAAK,CAACG,SAApB,EAA+B;AAC7B;AACAhC,IAAAA,IAF6B;AAG7BQ,IAAAA,SAH6B;AAI7BE,IAAAA,SAJ6B;AAK7BC,IAAAA,aAL6B;AAM7BG,IAAAA,YAN6B;AAO7B;AACAE,IAAAA;AAR6B,GAA/B,EADgC,CAWhC;;AACAa,EAAAA,KAAK,CAAClC,WAAN,GAAoBA,WAApB;AACAkC,EAAAA,KAAK,CAACd,UAAN,GAAmBpB,WAAnB;AACD,CAdD","sourcesContent":["'use strict';\n\nconst color = require('color');\nconst is = require('./is');\n\n/**\n * Colourspaces.\n * @private\n */\nconst colourspace = {\n  multiband: 'multiband',\n  'b-w': 'b-w',\n  bw: 'b-w',\n  cmyk: 'cmyk',\n  srgb: 'srgb'\n};\n\n/**\n * Tint the image using the provided chroma while preserving the image luminance.\n * An alpha channel may be present and will be unchanged by the operation.\n *\n * @param {String|Object} rgb - parsed by the [color](https://www.npmjs.org/package/color) module to extract chroma values.\n * @returns {Sharp}\n * @throws {Error} Invalid parameter\n */\nfunction tint (rgb) {\n  const colour = color(rgb);\n  this.options.tintA = colour.a();\n  this.options.tintB = colour.b();\n  return this;\n}\n\n/**\n * Convert to 8-bit greyscale; 256 shades of grey.\n * This is a linear operation. If the input image is in a non-linear colour space such as sRGB, use `gamma()` with `greyscale()` for the best results.\n * By default the output image will be web-friendly sRGB and contain three (identical) color channels.\n * This may be overridden by other sharp operations such as `toColourspace('b-w')`,\n * which will produce an output image containing one color channel.\n * An alpha channel may be present, and will be unchanged by the operation.\n * @param {Boolean} [greyscale=true]\n * @returns {Sharp}\n */\nfunction greyscale (greyscale) {\n  this.options.greyscale = is.bool(greyscale) ? greyscale : true;\n  return this;\n}\n\n/**\n * Alternative spelling of `greyscale`.\n * @param {Boolean} [grayscale=true]\n * @returns {Sharp}\n */\nfunction grayscale (grayscale) {\n  return this.greyscale(grayscale);\n}\n\n/**\n * Set the output colourspace.\n * By default output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n * @param {String} [colourspace] - output colourspace e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://github.com/libvips/libvips/blob/master/libvips/iofuncs/enumtypes.c#L568)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColourspace (colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n  this.options.colourspace = colourspace;\n  return this;\n}\n\n/**\n * Alternative spelling of `toColourspace`.\n * @param {String} [colorspace] - output colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColorspace (colorspace) {\n  return this.toColourspace(colorspace);\n}\n\n/**\n * Update a colour attribute of the this.options Object.\n * @private\n * @param {String} key\n * @param {String|Object} value\n * @throws {Error} Invalid value\n */\nfunction _setBackgroundColourOption (key, value) {\n  if (is.defined(value)) {\n    if (is.object(value) || is.string(value)) {\n      const colour = color(value);\n      this.options[key] = [\n        colour.red(),\n        colour.green(),\n        colour.blue(),\n        Math.round(colour.alpha() * 255)\n      ];\n    } else {\n      throw is.invalidParameterError('background', 'object or string', value);\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with colour-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    tint,\n    greyscale,\n    grayscale,\n    toColourspace,\n    toColorspace,\n    // Private\n    _setBackgroundColourOption\n  });\n  // Class attributes\n  Sharp.colourspace = colourspace;\n  Sharp.colorspace = colourspace;\n};\n"]},"metadata":{},"sourceType":"script"}